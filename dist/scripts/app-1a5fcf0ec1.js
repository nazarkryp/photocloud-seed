!function(){"use strict";angular.module("photocloud",["app.core","app.logger","app.router","ngMaterial","ngMessages","ngSanitize","ngFileUpload","ngCookies"])}(),function(){"use strict";function t(t,n){return{request:function(t){var e=n.getAccessToken();return e&&(t.headers.Authorization="Bearer "+e.access_token),t},requestError:function(n){return t.reject(n)},response:function(t){return t},responseError:function(n){return t.reject(n)}}}angular.module("photocloud").factory("httpInterceptor",t),t.$inject=["$q","tokenProvider"]}(),function(){"use strict";function t(t,n,e){var r=this;r.userProvider=e,t.$watch("vm.userProvider.currentUser",function(t){r.currentUser=t}),r.logout=function(){e.logout(),n.go("signin")}}angular.module("photocloud").controller("UserBarController",t),t.$inject=["$scope","$state","userProvider"]}(),function(){"use strict";angular.module("photocloud").component("userBar",{controller:"UserBarController",controllerAs:"vm",templateUrl:"app/components/layout/widgets/userbar/user-bar.template.html"})}(),function(){"use strict";function t(t,n){this.search=function(e){var r=t.defer();return n.get("users/search?query="+e,r),r.promise}}angular.module("photocloud").service("searchBarService",t),t.$inject=["$q","httpService"]}(),function(){"use strict";function t(t,n,e){var r=this;r.noCache=!1,r.selectedItem=null,r.query=null,r.search=function(t){var r=n.defer();return t?e.search(t).then(function(t){r.resolve(t.data)}):r.resolve([]),r.promise},r.selectedItemChange=function(n){n&&(t.go("userposts",{username:n.username}),n=null)}}angular.module("photocloud").controller("SearchBarController",t),t.$inject=["$state","$q","searchBarService"]}(),function(){"use strict";angular.module("photocloud").component("searchBar",{controller:"SearchBarController",controllerAs:"vm",templateUrl:"app/components/layout/widgets/search/search.template.html"})}(),function(){"use strict";function t(t){var n={};return n.key="session",n.save=function(e){var r=angular.toJson(e);t.put(n.key,r)},n.get=function(){var e=t.get(n.key);return angular.fromJson(e)},n.clean=function(){t.remove(n.key)},{save:n.save,get:n.get,clean:n.clean}}angular.module("photocloud").factory("sessionStorage",t),t.$inject=["$cookies"]}(),function(t){"use strict";function n(t,n){this.signIn=function(e,r){var o=t.defer(),a="grant_type=password&username="+e+"&password="+r;return n.post("authorize",a,o),o.promise},this.refreshToken=function(e){var r=t.defer(),o="grant_type=refresh_token&refresh_token="+e;return n.post("authorize",o,r),r.promise}}t.module("photocloud").service("authenticationService",n),n.$inject=["$q","httpService"]}(angular),function(){"use strict";function t(t){function n(){var n=t.get();if(n){var e=new Date,r=new Date(n[".expires"]),o=(r-e)/1e3/60;n.isAuthenticated=o>0}else n={isAuthenticated:!1};return n}var e=this;e.updateCurrentUser=function(n){var r=t.get();for(var o in n)r[o]=n[o],e.currentUser[o]=n[o];t.save(r)},e.update=function(n,r){var o=t.get();o[n]=r,e.currentUser[n]=r,t.save(o)},e.setCurrentUser=function(r){r.userId=parseInt(r.userId,10),r.isActive="true"===r.isActive,r.isPrivate="true"===r.isPrivate,r.username=r.userName,t.save(r),e.currentUser=n()},e.logout=function(){t.clean(),e.currentUser=n()},e.currentUser=n()}angular.module("photocloud").service("userProvider",t),t.$inject=["sessionStorage"]}(),function(){"use strict";function t(t){this.getAccessToken=function(){var n=t.get();if(n){var e=new Date(n[".expires"]),r=new Date,o=(e-r)/1e3/60,a=n.refresh_token&&o<=5;n.useRefreshToken=a,n.isValid=o>0,n.isValid||t.clean()}return n}}angular.module("photocloud").service("tokenProvider",t),t.$inject=["sessionStorage"]}(),function(){"use strict";function t(t,n){this.get=function(e,r){function o(t){r.resolve(t.data)}function a(t){r.reject(t)}t.get(n.requestUri+e).then(o,a)},this.post=function(e,r,o){function a(t){o.resolve(t.data)}function s(t){o.reject(t)}t.post(n.requestUri+e,r).then(a,s)},this.postEmpty=function(e,r){function o(t){r.resolve(t.data)}function a(t){r.reject(t)}t.post(n.requestUri+e).then(o,a)},this.put=function(e,r,o){function a(t){o.resolve(t.data)}function s(t){o.reject(t)}t.put(n.requestUri+e,r).then(a,s)},this.patch=function(e,r,o){function a(t){o.resolve(t.data)}function s(t){o.reject(t)}t.patch(n.requestUri+e,r).then(a,s)},this.delete=function(e,r){function o(t){r.resolve(t.data)}function a(t){r.reject(t)}t.delete(n.requestUri+e).then(o,a)}}angular.module("photocloud").service("httpService",t),t.$inject=["$http","environment"]}(),function(t){"use strict";function n(t,n,e,r,o){function a(n){return r.getUser(n).then(function(t){s.user=t,s.user.id===s.currentUser.userId||!s.user.isPrivate||s.user.isPrivate&&"Following"===s.user.outgoingStatus?s.getPosts():"Requested"===s.user.outgoingStatus?s.error={title:"This account is private",details:"Please wait until "+s.user.username+" accepts your request"}:(s.error={title:"This account is private"},o.currentUser.isAuthenticated?s.error.details="Follow "+s.user.username+" to see all their photos.":s.error.details="Already follow "+s.user.username+"? Log in to see their photos and videos.")},function(n){403===n.status?s.error={title:"Account has been deactivated"}:404===n.status&&t.go("404")})}var s=this;s.data={pagination:{next:null,previous:null},posts:[],hasMoreItems:!1},s.getPosts=function(){s.isLoading=!0,e.getUserPosts(n.username,s.data.pagination).then(function(t){t.data&&(s.data.posts=s.data.posts.concat(t.data)),s.data.pagination=t.pagination,s.data.hasMoreItems=t.hasMoreItems,s.isLoading=!1},function(){s.isLoading=!1})},s.logout=function(){o.logout(),t.go("signin")},s.$onInit=function(){s.currentUser=o.currentUser,s.user={username:n.username},a(n.username).then(function(){s.loaded=!0})}}t.module("photocloud").controller("UserPostsController",n),n.$inject=["$state","$stateParams","postService","userService","userProvider"]}(angular),function(t){"use strict";function n(t,n){this.getPosts=function(e){var r=t.defer(),o="posts";return e&&e.next&&(o=o+"?next="+e.next),n.get(o,r),r.promise},this.getPostById=function(e){var r=t.defer();return n.get("posts/"+e,r),r.promise},this.getPostByTag=function(e){var r=t.defer();return n.get("posts/tags/"+e,r),r.promise},this.getUserPosts=function(e,r){var o=t.defer(),a="posts/"+e;return r&&r.next&&(a=a+"?next="+r.next),n.get(a,o),o.promise},this.createPost=function(e){var r=t.defer();return n.post("posts",e,r),r.promise},this.remove=function(e){var r=t.defer();return n.delete("posts/"+e,r),r.promise},this.likePost=function(e){var r=t.defer();return n.postEmpty("posts/"+e+"/likes",r),r.promise},this.dislikePost=function(e){var r=t.defer();return n.delete("posts/"+e+"/likes",r),r.promise}}t.module("photocloud").service("postService",n),n.$inject=["$q","httpService"]}(angular),function(t){"use strict";function n(t,n,e){function r(t){a.post=t,a.post&&a.post.attachments.length>0&&(a.post.activeAttachment=0)}function o(n){404===n.status&&t.go("404")}var a=this;a.post={},a.next=function(){var t=a.post.attachments.length;t>1&&a.post.activeAttachment!==t-1&&a.post.activeAttachment++},a.previous=function(){a.post.attachments.length>1&&0!==a.post.activeAttachment&&a.post.activeAttachment--},a.$onInit=function(){e.getPostById(n.postId).then(r,o)}}t.module("photocloud").controller("PostDetailsController",n),n.$inject=["$state","$stateParams","postService"]}(angular),function(t){"use strict";function n(t,n,e,r,o,a,s){var i=this;i.next=function(){var t=i.post.attachments.length;t>1&&i.post.activeAttachment!==t-1&&i.post.activeAttachment++},i.previous=function(){i.post.attachments.length>1&&0!==i.post.activeAttachment&&i.post.activeAttachment--},i.share=function(){var t=location.href.split("/"),n=t[0],e=t[2],r=n+"//"+e+"/#!/p/"+i.post.id;a.setText(r),s.toast("Copied to clipboard")},i.like=function(){i.post.userHasLiked?(i.post.likesCount--,i.post.userHasLiked=!i.post.userHasLiked,r.dislikePost(i.post.id).then(function(){},function(){i.post.userHasLiked=!i.post.userHasLiked,i.post.likesCount++})):(i.post.likesCount++,i.post.userHasLiked=!i.post.userHasLiked,r.likePost(i.post.id).then(function(){},function(){i.post.userHasLiked=!i.post.userHasLiked,i.post.likesCount--}))},i.getComments=function(){o.getComments(i.postId).then(function(t){i.post.comments=t},function(t){s.toast("Error during loading comments")})},i.$onInit=function(){i.post&&i.post.attachments.length>0&&(i.post.activeAttachment=0),i.currentUser=e.currentUser}}t.module("photocloud").controller("PostController",n),n.$inject=["$state","$stateParams","userProvider","postService","commentService","clipboard","logger"]}(angular),function(t){"use strict";t.module("photocloud").component("post",{controller:"PostController",controllerAs:"vm",templateUrl:"app/components/posts/post/post.template.html",bindings:{post:"=",removeCallback:"&"}})}(angular),function(t){"use strict";function n(n,e){function r(t){a.data.posts||(a.data.posts=[]),a.data.posts.unshift(t)}function o(){}var a=this;a.isLoading=!1,a.data={pagination:{next:null,previous:null},posts:[],hasMoreItems:!1},a.createPost=function(n){e.show({controller:"CreatePostController",controllerAs:"vm",templateUrl:"app/components/posts/create/create-post.template.html",parent:t.element(document.body),targetEvent:n,clickOutsideToClose:!0}).then(r,o)},a.removePost=function(t){var e=a.data.posts[t];e.id&&(a.data.posts.splice(t,1),n.remove(e.id).then(function(t){},function(t){}))},a.getPosts=function(){a.isLoading=!0,n.getPosts(a.data.pagination).then(function(t){t.data&&(a.data.posts=a.data.posts.concat(t.data)),a.data.pagination=t.pagination,a.data.hasMoreItems=t.hasMoreItems,a.isLoading=!1,a.isPageLoading=!1},function(t){a.isPageLoading=!1,a.isLoading=!1})},a.$onInit=function(){a.getPosts(),a.isPageLoading=!0}}t.module("photocloud").controller("FeedController",n),n.$inject=["postService","$mdDialog"]}(angular),function(t){"use strict";function n(){}t.module("photocloud").controller("ErrorBoxController",n)}(angular),function(t){"use strict";t.module("photocloud").component("errorBox",{controller:"ErrorBoxController",controllerAs:"vm",templateUrl:"app/components/posts/errors/error-box.template.html",bindings:{error:"="}})}(angular),function(t){"use strict";function n(t,n,e,r){var o=this;o.post={attachments:[],attachmentIds:[],caption:"",success:!1},o.setPreview=function(t){o.post.preview=t.uri},o.upload=function(e){o.isUploading=!0;var r={url:n.requestUri+"attachments",data:{file:e}};t.upload(r).progress(function(t){o.upload.progress=Math.round(100*t.loaded/t.total)}).success(function(t,n,e,r){o.isUploading=!1,o.post.attachments.push(t),1===o.post.attachments.length&&(o.post.preview=t.uri),o.post.attachmentIds=o.post.attachments.map(function(t){return t.id})}).error(function(t,n,e,r){o.isUploading=!1})},o.createPost=function(){e.createPost(o.post).then(function(t){r.hide(t)})}}t.module("photocloud").controller("CreatePostController",n),n.$inject=["Upload","environment","postService","$mdDialog"]}(angular),function(t){"use strict";function n(t){function n(t){r.post.comments=t}function e(t){}var r=this;r.removeComment=function(n){var e=r.post.comments[n];t.removeComment(e.id).then(function(t){r.post.comments.splice(n,1)},function(t){})},r.getComments=function(){t.getComments(r.post.id).then(n,e)}}t.module("photocloud").controller("CommentsController",n),n.$inject=["commentService"]}(angular),function(t){"use strict";t.module("photocloud").component("comments",{controller:"CommentsController",controllerAs:"vm",templateUrl:"app/components/posts/comments/comments.template.html",bindings:{post:"="}})}(angular),function(t){"use strict";function n(t,n){this.getComments=function(e){var r=t.defer();return n.get("posts/"+e+"/comments",r),r.promise},this.createComment=function(e,r){var o=t.defer();return n.post("posts/"+e+"/comments",r,o),o.promise},this.removeComment=function(e){var r=t.defer();return n.delete("posts/comments/"+e,r),r.promise},this.editComment=function(e,r){var o=t.defer();return n.put("posts/comments/"+e,r,o),o.promise}}t.module("photocloud").service("commentService",n),n.$inject=["$q","httpService"]}(angular),function(){"use strict";function t(t){t.configureStates(n())}function n(){return[{state:"signin",config:{url:"/signin",templateUrl:"app/components/account/signin/signin.template.html",controller:"SignInController",controllerAs:"vm",title:"Sign In"}}]}angular.module("photocloud").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(t,n,e,r){function o(n){s.isLoading=!1,e.setCurrentUser(n);var o="Logged in as "+n.username;r.toast(o),t.go("posts")}function a(t){s.isLoading=!1,s.error=t.data.error,r.toast(t.data.error)}var s=this;s.isLoading=!1,s.error=null,s.signIn=function(t){s.isLoading=!0,s.error=null,n.signIn(t).then(o,a)}}angular.module("photocloud").controller("SignInController",t),t.$inject=["$state","accountService","userProvider","logger"]}(),function(){"use strict";function t(t){t.configureStates(n())}function n(){return[{state:"signup",config:{url:"/account/create",templateUrl:"app/components/account/create/create-account.template.html",controller:"CreateAccountController",controllerAs:"vm",title:"Create Account"}}]}angular.module("photocloud").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(t,n,e){function r(t){return!!t.username&&!(!t.password||!t.confirmPassword||t.password!==t.confirmPassword)}function o(){s.isLoading=!1,e.toast("Account has been created. Now you can sign in using your username and password"),t.go("signin")}function a(t){s.isLoading=!1,s.errors=t.data.error.modelState}var s=this;s.create=function(t){s.isLoading=!0,s.errors=[],r(t)&&n.create(t).then(o,a)}}angular.module("photocloud").controller("CreateAccountController",t),t.$inject=["$state","accountService","logger"]}(),function(){"use strict";angular.module("app.core",["app.router"])}(),function(t){"use strict";function n(n){var e=t.element(n.document.body),r=t.element("<textarea/>");r.css({position:"fixed",opacity:"0"}),this.setText=function(t){r.val(t),e.append(r),r[0].select();try{var o=document.execCommand("copy");if(!o)throw o}catch(e){n.prompt("Copy to clipboard: Ctrl+C, Enter",t)}r.remove()}}t.module("app.core").service("clipboard",n),n.$inject=["$window"]}(angular),function(){"use strict";angular.module("app.logger",["ngMaterial"])}(),function(){"use strict";function t(t,n){function e(n,e,r){s(n),t.error("Error: "+n,e)}function r(n,e,r){s(n),t.info("info: "+n,e)}function o(n,e,r){s(n),t.info("Success: "+n,e)}function a(n,e,r){s(n),t.warn("Warning: "+n,e)}function s(t){var e=n.simple().textContent(t).position("bottom right").hideDelay(2e3),r=document.getElementById("toast-container");r&&e.parent(r),n.show(e)}return{showToasts:!0,error:e,info:r,success:o,warning:a,toast:s,log:t.log}}angular.module("app.logger").factory("logger",t),t.$inject=["$log","$mdToast"]}(),function(){"use strict";angular.module("app.router",["ui.router"])}(),function(){"use strict";function t(t,n,e){function r(t,r,a){function s(t,r){t.forEach(function(t){t.config.resolve=angular.extend(t.config.resolve||{},o.resolveAlways),n.state(t.state,t.config)}),r&&!u&&(u=!0,e.otherwise(r))}function i(){r.$on("$stateChangeError",function(n,e,r,o,a,s){if(!d){m.errors++,d=!0;e&&(e.title||e.name||e.loadedTemplateUrl);t.path("/")}})}function c(){return a.get()}function l(){r.$on("$stateChangeSuccess",function(t,n,e,a,s){m.changes++,d=!1;var i=o.docTitle+" "+(n.title||"");r.title=i})}var d=!1,u=!1,m={errors:0,changes:0},p={configureStates:s,getStates:c,stateCounts:m};return function(){i(),l()}(),p}var o={docTitle:void 0,resolveAlways:{}};window.history&&window.history.pushState||(window.location.hash="/"),this.configure=function(t){angular.extend(o,t)},this.$get=r,r.$inject=["$location","$rootScope","$state"]}angular.module("app.router").provider("routerHelper",t),t.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"]}(),function(t){"use strict";function n(t,n){this.getUser=function(e){var r=t.defer();return n.get("users/"+e,r),r.promise}}t.module("photocloud").service("userService",n),n.$inject=["$q","httpService"]}(angular),function(){"use strict";function t(t){t.configureStates(n(),"/")}function n(){return[{state:"settings",config:{url:"/account/edit",templateUrl:"app/components/settings/settings.template.html",controller:"SettingsController",controllerAs:"vm",title:"Settings"}}]}angular.module("photocloud").run(t),t.$inject=["routerHelper"]}(),function(t){"use strict";function n(t,n,e,r,o){var a=this;a.changePassword=function(){var t={oldPassword:a.account.oldPassword,newPassword:a.account.newPassword};n.changePassword(t).then(function(){r.toast("Password successfuly changed.")},function(t){r.toast(t)})},a.updateProfilePicture=function(s){var i={url:o.requestUri+"attachments",data:{file:s}};a.isUploading=!0,t.upload(i).progress(function(t){a.progress=Math.round(100*t.loaded/t.total)}).success(function(t,r,o,s){var i={pictureId:t.id};n.updateAccount(i).then(function(n){a.account.pictureId=t.id,a.account.pictureUri=t.uri,e.update("pictureId",t.id),e.update("pictureUri",t.uri),a.isUploading=!1},function(t){a.isUploading=!1})}).error(function(t,n,e,o){a.isUploading=!1,r.toast(t)})},a.updateProfile=function(){var t={username:a.account.username,fullName:a.account.fullName,bio:a.account.bio,email:a.account.email};n.updateAccount(t).then(function(t){a.account.username=t.username,a.account.fullName=t.fullName,a.account.bio=t.bio,a.account.email=t.email,e.updateCurrentUser(t)},function(t){})},a.changeAccountPrivacy=function(){var t={isPrivate:a.account.isPrivate};n.updateAccount(t).then(function(t){a.account.isPrivate=t.isPrivate,e.update("isPrivate",t.isPrivate)},function(t){})},a.invertAccountStatus=function(){var t={isActive:!a.account.isActive};n.updateAccount(t).then(function(t){a.account.isActive=t.isActive,e.update("isActive",t.isActive),r.toast("Account "+(t.isActive?"activated":"deactivated"))},function(t){})},a.$onInit=function(){n.getAccount().then(function(t){a.account=t},function(t){})}}t.module("photocloud").controller("SettingsController",n),n.$inject=["Upload","accountService","userProvider","logger","environment"]}(angular),function(t){"use strict";function n(t){t.configureStates(e(),"/")}function e(){var t=[];return t.push({state:"posts",config:{url:"/",templateUrl:"app/components/posts/feed/feed.template.html",controller:"FeedController",controllerAs:"vm",title:"Home"}}),t.push({state:"userposts",config:{url:"/:username",templateUrl:"app/components/posts/user-posts/user-posts.template.html",controller:"UserPostsController",controllerAs:"vm",title:"User"}}),t.push({state:"post",config:{url:"/p/:postId",templateUrl:"app/components/posts/post-details/post-details.template.html",controller:"PostDetailsController",controllerAs:"vm",title:"Post"}}),t}t.module("photocloud").run(n),n.$inject=["routerHelper"]}(angular),function(){"use strict";function t(t,n){var e=this;e.userProvider=n,t.$watch("vm.userProvider.currentUser",function(t){e.currentUser=t}),e.date=new Date}angular.module("photocloud").controller("IndexController",t),t.$inject=["$scope","userProvider"]}(),function(t){"use strict";function n(t){t.configureStates(e())}function e(){return[{state:"404",config:{templateUrl:"app/components/404/404.template.html",title:"Page Not Found"}}]}t.module("photocloud").run(n),n.$inject=["routerHelper"]}(angular),function(){"use strict";function t(t,n,e,r){this.create=function(n){var r=t.defer();return e.post("account",n,r),r.promise},this.getAccount=function(){var n=t.defer();return e.get("account",n),n.promise},this.signIn=function(e){var o=t.defer(),a="grant_type=password&username="+e.username+"&password="+e.password;return n.post(r.authorizeUri,a).then(function(t){o.resolve(t.data)},function(t){o.reject(t)}),o.promise},this.updateAccount=function(n){var r=t.defer();return e.patch("account",n,r),r.promise},this.changePassword=function(n){var r=t.defer();return e.put("account",n,r),r.promise}}angular.module("photocloud").service("accountService",t),t.$inject=["$q","$http","httpService","environment"]}(),function(t){"use strict";function n(t){this.upload=function(n,e){t.upload({url:n.requestUri+"attachments",data:{file:e}})}}t.module("photocloud").service("attachmentService",n),n.$inject=["environment","Upload"]}(angular),function(){"use strict";function t(t){return function(t){var n=new Date,e=Date.parse(t),r=new Date(e),o=n.getTime()-r.getTime(),a=null;return o<6e4?(a=Math.round(o/1e3),a>1?a+" seconds ago":a+" second ago"):o<36e5?(a=Math.round(o/6e4),a>1?a+" minutes ago":a+" minute ago"):o<864e5?(a=Math.round(o/36e5),a>1?a+" hours ago":a+" hour ago"):o<6048e5?(a=Math.round(o/864e5),a>1?a+" days ago":a+" day ago"):o<2592e6?(a=Math.round(o/6048e5),a>1?a+" weeks ago":a+" week ago"):o<31536e6?(a=Math.round(o/2592e6),a>1?a+" monts ago":a+" months ago"):(a=Math.round(o/31536e6),a>1?a+" years ago":a+" year ago")}}angular.module("photocloud").filter("dateAgo",t),t.$inject=["$filter"]}(),function(t){"use strict";function n(t,n){return function(t,e,r){return t?(t.includes("#")&&(t=t.replace(/#(\w+)/g,"<a class='hashtag' href='/#/explore/tags/$1'>$&</a>")),t.includes("@")&&(t=t.replace(/@(\w+)/g,"<a class='hashtag' href='/#/$1'>$&</a>")),n.trustAsHtml(t),t):t}}t.module("photocloud").filter("caption",n),n.$inject=["$filter","$sce"]}(angular),function(){"use strict";function t(){return{require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(t,n,e,r){r.$validators.compareTo=function(n){return n==t.otherModelValue},t.$watch("otherModelValue",function(){r.$validate()})}}}angular.module("photocloud").directive("compareTo",t)}(),function(t){"use strict";function n(){return{restrict:"A",link:function(t,n,e){e.$observe("ngSrc",function(t){t||n.attr("src","assets/images/user.png")})}}}t.module("photocloud").directive("alternativeUserImage",n)}(angular),function(t){"use strict";function n(){return{requestUri:"https://krypapp.azurewebsites.net/api/",authorizeUri:"https://krypapp.azurewebsites.net/authorize"}}t.module("app.core").factory("environment",n)}(angular),function(){"use strict";function t(t,n){t.debugEnabled&&t.debugEnabled(!0),n.configure({docTitle:"PhotoCloud :"})}angular.module("app.core").config(t),t.$inject=["$logProvider","routerHelperProvider"]}(),function(t){"use strict";t.module("app.core").constant("version","1.0.0")}(angular),function(){"use strict";function t(t,n,e){function r(t,r){var o=e.getAccessToken();o&&o.isValid?"/account/edit"===r.url||o.isActive?"/signin"!==r.url&&"/account/create"!==r.url||(n.go("posts"),t.preventDefault()):(n.go("settings",{isRedirected:!0}),t.preventDefault()):"/signin"!==r.url&&"/"===r.url&&(n.go("signin"),t.preventDefault())}t.$on("$stateChangeStart",r)}angular.module("photocloud").run(t),t.$inject=["$rootScope","$state","tokenProvider"]}(),function(){"use strict";function t(t,n){n.theme("default").primaryPalette("blue"),t.interceptors.push("httpInterceptor")}angular.module("photocloud").config(t),t.$inject=["$httpProvider","$mdThemingProvider"]}(),angular.module("photocloud").run(["$templateCache",function(t){t.put("app/components/404/404.template.html",'<div class="content">\r\n    <div layout="column" layout-align="center center">\r\n        <span class="md-headline">Sorry, this page isn\'t available.</span>\r\n        <p>The link you followed may be broken, or the page may have been removed. Go back to <a ui-sref="posts">PhotoCloud</a>.</p>\r\n    </div>\r\n</div>\r\n'),t.put("app/components/settings/1settings.template.html",'<div class="content" layout="row" layout-align="center stretch">\r\n    <div class="page-content">\r\n        <div layout="row">\r\n            <div class="md-padding" layout="column" layout-align="start center">\r\n                <div layout="column" layout-align="start start">\r\n                    <md-tooltip md-direction="bottom">Change picture</md-tooltip>\r\n                    <img class="thumbnail-big" alternative-user-image ng-src="{{vm.account.pictureUri}}" alt="profile" md-whiteframe="3" ngf-select="vm.updateProfilePicture($file)" ngf-pattern="\'image/*\'" ngf-accept="\'image/*\'" ngf-max-size="20MB">\r\n                </div>\r\n            </div>\r\n            <div class="md-padding left" layout="column" flex>\r\n                <div class="md-padding bottom" ng-if="!vm.account.isActive">\r\n                    <span class="description warning">Account has been deactivated. To view posts and edit settings you need to activate your account</span>\r\n                </div>\r\n                <div class="md-padding" md-whiteframe="10">\r\n                    <div class="row">\r\n                        <span class="md-headline">General Information</span>\r\n                    </div>\r\n                    <div layout="row">\r\n                        <md-input-container class="md-block" flex>\r\n                            <label class="md-subhead bold" for="username">Username</label>\r\n                            <input class="light" type="text" name="username" ng-model="vm.account.username" aria-label="settings" ng-disabled="!vm.account.isActive">\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex>\r\n                            <label class="md-subhead bold" for="fullName">Full Name</label>\r\n                            <input class="light" type="text" name="fullName" ng-model="vm.account.fullName" aria-label="settings" ng-disabled="!vm.account.isActive">\r\n                        </md-input-container>\r\n                    </div>\r\n                    <md-input-container class="md-block" flex>\r\n                        <label class="md-subhead bold" for="bio">Tell us something about yourself</label>\r\n                        <input class="light" type="text" name="bio" ng-model="vm.account.bio" aria-label="settings" ng-disabled="!vm.account.isActive">\r\n                    </md-input-container>\r\n                </div>\r\n                <div class="md-padding" style="margin-top: 50px" md-whiteframe="10">\r\n                    <div class="row">\r\n                        <span class="md-headline">Private Information</span>\r\n                    </div>\r\n                    <md-input-container class="md-block" flex>\r\n                        <label class="md-subhead bold" for="email">Email Address</label>\r\n                        <input class="light" type="text" name="email" placeholder="username@example.com" ng-model="vm.account.email" aria-label="settings" ng-disabled="!vm.account.isActive">\r\n                    </md-input-container>\r\n                    <md-input-container class="md-block" flex>\r\n                        <label class="md-subhead bold" for="oldPassword">Old Password</label>\r\n                        <input class="light" type="password" name="oldPassword" ng-change="vm.passwordChanged()" ng-model="vm.password.oldPassword" aria-label="settings" ng-disabled="!vm.account.isActive">\r\n                    </md-input-container>\r\n                    <md-input-container class="md-block" flex>\r\n                        <label class="md-subhead bold" for="newPassword">New Password</label>\r\n                        <input class="light" type="password" name="newPassword" ng-change="vm.passwordChanged()" ng-model="vm.password.newPassword" aria-label="settings" ng-disabled="!vm.account.isActive">\r\n                    </md-input-container>\r\n                    <md-input-container class="md-block" flex>\r\n                        <label class="md-subhead bold" for="confirmPassword">Confirm Password</label>\r\n                        <input class="light" type="password" name="confirmPassword" ng-change="vm.passwordChanged()" ng-model="vm.password.confirmPassword" aria-label="settings" ng-disabled="!vm.account.isActive">\r\n                    </md-input-container>\r\n                    <p class="description danger" ng-if="vm.password.error">{{vm.password.error}}</p>\r\n                    <p class="description">Password length should be at least 6 symbols</p>\r\n                </div>\r\n                <div class="md-padding top">\r\n                    <label class="md-subhead bold">Privacy</label>\r\n                    <md-switch ng-change="vm.changePrivacy()" ng-model="vm.account.isPrivate" aria-label="Is Private" ng-disabled="!vm.account.isActive">\r\n                    </md-switch>\r\n                    <p class="description">When your account is private, only people you approve can see you photos and videos on PhotoCloud. The\r\n                        existing followers won\'t be affected</p>\r\n                </div>\r\n                <div class="md-padding top">\r\n                    <md-button class="md-raised" ng-click="vm.invertAccountStatus()">\r\n                        {{vm.account.isActive}} account\r\n                    </md-button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),
t.put("app/components/settings/settings.template.html",'<div class="content" layout="row" layout-align="center start">\r\n    <div class="page-content" layout="row" md-whiteframe="1">\r\n        <div class="md-padding">\r\n            <img ng-src="{{vm.account.pictureUri}}" alternative-user-image style="border-radius: 100px; width: 190px; height: 190px; object-fit: cover">\r\n            <div class="md-padding top" layout="row" layout-align="center center">\r\n                <md-button class="md-raised md-primary" ngf-select="vm.updateProfilePicture($file)" ngf-pattern="\'image/*\'" ngf-accept="\'image/*\'" ngf-max-size="20MB" ng-disabled="vm.isUploading">Change Picture</md-button>\r\n            </div>\r\n        </div>\r\n        <div class="md-padding md-block" layout="column" layout-align="start start">\r\n            <div class="md-padding bottom">\r\n                <span class="md-subhead">General Information</span>\r\n            </div>\r\n            <md-input-container class="md-block">\r\n                <label for="username">Username</label>\r\n                <input name="username" type="text" ng-model="vm.account.username">\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label for="fullName">Full Name</label>\r\n                <input name="fullName" type="text" ng-model="vm.account.fullName">\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label for="bio">Bio</label>\r\n                <input name="bio" type="text" ng-model="vm.account.bio">\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label for="email">Email Address</label>\r\n                <input name="email" type="email" ng-model="vm.account.email">\r\n            </md-input-container>\r\n            <div layout="row" layout-align="end center">\r\n                <md-button class="md-raised md-primary" ng-click="vm.updateProfile()">Save profile changes</md-button>\r\n            </div>\r\n            <div class="md-padding bottom">\r\n                <span class="md-subhead">Change Password</span>\r\n            </div>\r\n            <md-input-container class="md-block">\r\n                <label for="oldPassword">Old Password</label>\r\n                <input name="oldPassword" type="text">\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label for="newPassword">New Password</label>\r\n                <input name="newPassword" type="text">\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label for="confirmPassword">Confirm Password</label>\r\n                <input name="confirmPassword" type="text">\r\n            </md-input-container>\r\n            <div layout="row" layout-align="end center">\r\n                <md-button class="md-raised md-primary">Change password</md-button>\r\n            </div>\r\n            <div class="md-padding top">\r\n                <label class="md-subhead bold">Privacy</label>\r\n                <md-switch ng-change="vm.changeAccountPrivacy()" ng-model="vm.account.isPrivate" aria-label="Is Private" ng-disabled="!vm.account.isActive">\r\n                </md-switch>\r\n                <p class="description">When your account is private, only people you approve can see you photos and videos on PhotoCloud. The existing\r\n                    followers won\'t be affected</p>\r\n            </div>\r\n            <div layout="row" layout-align="center center">\r\n                <md-button class="md-raised md-warn" ng-click="vm.invertAccountStatus()">{{vm.account.isActive ? \'Deactivate\' : \'Activate\'}} Account\r\n                </md-button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),t.put("app/components/account/create/create-account.template.html",'<div class="content" layout="column" layout-align="center center">\r\n    <div class="auth-form" md-whiteframe="1">\r\n        <div class="box-header">\r\n            <md-progress-linear md-mode="indeterminate" ng-if="vm.isLoading"></md-progress-linear>\r\n            <div class="md-padding left">\r\n                <h2>Create account</h2>\r\n                <span class="description">One account is all you need</span>\r\n            </div>\r\n        </div>\r\n        <form name="signUpForm" class="box-content" ng-submit="vm.create(vm.account)">\r\n            <div class="md-padding">\r\n                <md-input-container class="md-block" flex>\r\n                    <md-icon>account_circle</md-icon>\r\n                    <input name="username" required type="text" placeholder="Username" ng-model="vm.account.username" aria-label="account">\r\n                    <div ng-messages="signUpForm.username.$error" role="alert">\r\n                        <div ng-message="required">\r\n                            Username must not be empty\r\n                        </div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex>\r\n                    <md-icon>email</md-icon>\r\n                    <input name="email" required type="email" placeholder="E-mail address" ng-model="vm.account.email" aria-label="account">\r\n                    <div ng-messages="signUpForm.email.$error" role="alert">\r\n                        <div ng-message="required">\r\n                            Email address must not be empty\r\n                        </div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex>\r\n                    <md-icon>lock</md-icon>\r\n                    <input name="password" required type="password" placeholder="Password" ng-model="vm.account.password" minlength="6" aria-label="account">\r\n                    <div ng-messages="signUpForm.email.$error" role="alert">\r\n                        <div ng-message="minlength">\r\n                            Password length should be at least 6 symbols\r\n                        </div>\r\n                        <div ng-message="required">\r\n                            Password must not be empty\r\n                        </div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex>\r\n                    <md-icon>lock</md-icon>\r\n                    <input name="confirmPassword" required type="password" placeholder="Confirm password" ng-model="vm.account.confirmPassword" minlength="6" aria-label="account" compare-to="vm.account.password">\r\n                    <div ng-messages="signUpForm.confirmPassword.$error" role="alert">\r\n                        <div ng-message="compareTo">Confirm password does not match password</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <div layout="row" layout-align="end center">\r\n                    <md-button class="md-raised md-primary md-block" type="submit" ng-disabled="vm.isLoading">\r\n                        {{ vm.isLoading ? \'Loading\' : \'Create Account\' }}\r\n                    </md-button>\r\n                </div>\r\n                <div layout="column" layout-align="center center">\r\n                    <div class="error" ng-if="vm.errors.length > 0">\r\n                        <p ng-repeat="error in vm.errors">{{error}}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n'),t.put("app/components/account/signin/signin.template.html",'<div class="content" layout="column" layout-align="center center">\r\n    <div class="auth-form" md-whiteframe="1">\r\n        <div class="box-header">\r\n            <md-progress-linear md-mode="indeterminate" ng-if="vm.isLoading"></md-progress-linear>\r\n            <div class="md-padding left">\r\n                <h2>Sign In</h2>\r\n                <span class="description">to continue to PhotoCloud</span>\r\n            </div>\r\n        </div>\r\n        <form name="signInForm" class="box-content" ng-submit="vm.signIn(vm.account)">\r\n            <div class="md-padding">\r\n                <md-input-container class="md-block" flex>\r\n                    <input name="username" required type="text" placeholder="Username" ng-model="vm.account.username" aria-label="account" ng-disabled="vm.isLoading">\r\n                    <div ng-messages="signInForm.username.$error" role="alert">\r\n                        <div ng-message="required">\r\n                            Username must not be empty\r\n                        </div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex>\r\n                    <input name="password" required minlength="6" type="password" placeholder="Password" ng-model="vm.account.password" aria-label="account" ng-disabled="vm.isLoading">\r\n                    <div ng-messages="signInForm.password.$error" role="alert">\r\n                        <div ng-message="minlength">\r\n                            Password length should be at least 6 symbols\r\n                        </div>\r\n                        <div ng-message="required">\r\n                            Password must not be empty\r\n                        </div>\r\n                    </div>\r\n                </md-input-container>\r\n                <div layout="row" layout-align="space-between center">\r\n                    <div class="md-padding top">\r\n                        <md-checkbox ng-model="vm.account.remember">Remember me?</md-checkbox>\r\n                    </div>\r\n                    <md-button class="md-raised md-primary" type="submit" ng-disabled="vm.isLoading">\r\n                        {{ vm.isLoading ? \'Loading\' : \'Sign In\' }}\r\n                    </md-button>\r\n                </div>\r\n                <div layout="column" layout-align="center center">\r\n                    <div class="md-padding error" ng-if="vm.error">\r\n                        <span>{{vm.error}}</span>\r\n                    </div>\r\n                    <div class="md-block md-padding top">\r\n                        <md-divider class="md-block md-padding top"></md-divider>\r\n                    </div>\r\n                    <div class="md-padding">\r\n                        \x3c!--<span class="md-padding right">Have no account?</span><a ui-sref="signup">Sign up for free</a>--\x3e\r\n                        <span class="md-padding right">Have no account?</span>\r\n                        <md-button class="md-primary" ui-sref="signup">Sign up for free</md-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n'),t.put("app/components/posts/comments/comments.template.html",""),t.put("app/components/posts/create/create-post.template.html",'<md-dialog class="upload-post-dialog">\r\n    <md-dialog-content class="post-upload-content" layout="column" layout-align="center center" ng-if="vm.post.attachments.length === 0">\r\n        <div layout="column" layout-align="center center">\r\n            <md-button class="box" layout="column" layout-align="center center" ngf-select="vm.upload($file)" ngf-pattern="\'image/*\'" ngf-accept="\'image/*\'" ngf-max-size="20MB">\r\n                <md-icon class="big">cloud_upload</md-icon>\r\n                <span>Drag an image here or\r\n                    <a class="md-primary">browse</a> for image for upload.</span>\r\n            </md-button>\r\n            <div class="md-block md-padding" ng-if="vm.isUploading">\r\n                <md-progress-linear md-mode="indeterminate"></md-progress-linear>\r\n            </div>\r\n        </div>\r\n    </md-dialog-content>\r\n    <md-dialog-content class="post-upload-content" layout="row" layout-align="space-between start" ng-if="vm.post.attachments.length > 0">\r\n        <div class="md-attachment-list" layout="column" layout-align="start start">\r\n            <div class="md-attachment-thumbnail-container" ng-repeat="attachment in vm.post.attachments" ng-click="vm.setPreview(attachment)" md-whiteframe="3">\r\n                <img class="md-attachment-thumbnail" ng-src="{{attachment.uri}}" alt="img">\r\n            </div>\r\n            <div class="md-attachment-thumbnail-container" md-whiteframe="3">\r\n                <md-button class="md-attachment-button" layout="row" layout-align="center center" ngf-select="vm.upload($file)" ngf-pattern="\'image/*\'" ngf-accept="\'image/*\'" ngf-max-size="20MB">\r\n                    <md-icon>add</md-icon>\r\n                </md-button>\r\n            </div>\r\n        </div>\r\n        <div class="md-attachment-preview-container" layout="column" layout-align="start start">\r\n            <img class="md-attachment-preview-thumbnail" ng-src="{{vm.post.preview}}" alt="preview" md-whiteframe="1">\r\n            <div class="md-block md-padding top">\r\n                <md-input-container class="light-container" md-no-float>\r\n                    <textarea class="md-input-light" type="text" ng-model="vm.post.caption" placeholder="Edit caption"></textarea>\r\n                </md-input-container>\r\n            </div>\r\n        </div>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="column" ng-if="vm.post.attachments && vm.post.attachments.length > 0">\r\n        <md-button class="md-raised md-warn md-submit md-block" ng-click="vm.createPost()">Create post</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n'),t.put("app/components/posts/errors/error-box.template.html",'<div class="error-box" layout="column" layout-align="center center">\r\n        <span class="md-subhead">\r\n            <strong>{{vm.error.title}}</strong>\r\n        </span>\r\n    <p ng-if="vm.error.details">{{vm.error.details}}</p>\r\n</div>\r\n'),t.put("app/components/posts/feed/feed.template.html",'<div class="content" layout="column" layout-align="center center" ng-if="vm.isPageLoading">\r\n    <md-progress-circular md-mode="indeterminate" md-diameter="40"></md-progress-circular>\r\n</div>\r\n<div class="content" layout="column" layout-align="start center" ng-if="!vm.isPageLoading">\r\n    <post class="post" remove-callback="vm.removePost($index)" ng-repeat="post in vm.data.posts" post="post" ng-if="!vm.isPageLoading"></post>\r\n    <div class="md-padding" ng-if="vm.data.hasMoreItems">\r\n        <md-button class="md-fab" ng-click="vm.getPosts()">\r\n            <md-tooltip md-direction="left">Load more posts</md-tooltip>\r\n            <md-icon>expand_more</md-icon>\r\n        </md-button>\r\n        <div class="md-circle-container" ng-if="vm.isLoading">\r\n            <md-progress-circular class="md-accent" md-mode="indeterminate" md-diameter="40"></md-progress-circular>\r\n        </div>\r\n    </div>\r\n</div>\r\n<md-fab-speed-dial class="md-fab-bottom-right" ng-click="vm.createPost($event)">\r\n    <md-fab-trigger>\r\n        <md-button class="md-fab" aria-label="Preate Post">\r\n            <md-tooltip md-direction="left">Create post</md-tooltip>\r\n            <md-icon>photo_camera</md-icon>\r\n        </md-button>\r\n    </md-fab-trigger>\r\n</md-fab-speed-dial>\r\n'),t.put("app/components/posts/post/post.template.html",'<div class="md-ink-ripple" md-whiteframe="1">\r\n    <div class="post-header" layout="row" flex>\r\n        <img class="thumbnail-small" alternative-user-image ui-sref="userposts({username: vm.post.user.username})" ng-src="{{vm.post.user.pictureUri}}" alt="profile">\r\n        <div class="md-padding left" layout="row" layout-align="space-between center" flex>\r\n            <a class="md-body-2" ui-sref="userposts({username: vm.post.user.username})">{{vm.post.user.username}}</a>\r\n            <md-menu md-position-mode="target-right target">\r\n                <md-button class="md-icon-button" ng-click="$mdMenu.open($event)">\r\n                    <md-icon>expand_more</md-icon>\r\n                </md-button>\r\n                <md-menu-content width="3">\r\n                    <md-menu-item>\r\n                        <md-button>\r\n                            <md-icon>edit</md-icon>\r\n                            Edit\r\n                        </md-button>\r\n                    </md-menu-item>\r\n                    <md-menu-item>\r\n                        <md-button ng-click="vm.removeCallback()" ng-if="vm.post.user.id === vm.currentUser.userId">\r\n                            <md-icon>close</md-icon>\r\n                            Remove\r\n                        </md-button>\r\n                    </md-menu-item>\r\n                </md-menu-content>\r\n            </md-menu>\r\n        </div>\r\n    </div>\r\n    <div class="post-content" md-ink-ripple>\r\n        <div class="post-content-buttons" layout="row" layout-align="space-between center" ng-if="vm.post.attachments.length > 1">\r\n            <div>\r\n                <md-button class="md-icon-button md-raised" ng-click="vm.previous()" ng-if="vm.post.activeAttachment > 0">\r\n                    <md-icon class="post-icon">chevron_left</md-icon>\r\n                </md-button>\r\n            </div>\r\n            <div>\r\n                <md-button class="md-icon-button md-raised" ng-click="vm.next()" ng-if="vm.post.activeAttachment != vm.post.attachments.length - 1">\r\n                    <md-icon class="post-icon">chevron_right</md-icon>\r\n                </md-button>\r\n            </div>\r\n        </div>\r\n        <img class="post-image" ng-src="{{vm.post.attachments[vm.post.activeAttachment].uri}}" alt="post-image">\r\n    </div>\r\n    <div class="post-details">\r\n        <div layout="row" layout-align="space-between center">\r\n            <span class="md-subhead"><strong>{{vm.post.likesCount}} likes</strong></span>\r\n            <div layout="row" ng-if="vm.post.attachments.length > 1">\r\n                <md-icon class="post-badge" ng-repeat="attachment in vm.post.attachments" ng-class="{ \'active\' : vm.post.activeAttachment === $index }">lens</md-icon>\r\n            </div>\r\n        </div>\r\n        <a class="md-body-2 post-link" ui-sref="userposts({username: vm.post.user.username})"><strong>{{vm.post.user.username}}</strong></a>\r\n        <span>{{vm.post.caption}}</span>\r\n        <div class="post-comments">\r\n            <div class="comment" ng-repeat="comment in vm.post.comments">\r\n                <a class="md-body-2 post-link" ui-sref="userposts({username: comment.user.username})"><strong>{{comment.user.username}}</strong></a>\r\n                <span>{{comment.text}}</span>\r\n            </div>\r\n            <a class="md-body-2 description" href="#"><strong>View all 100 comments</strong></a>\r\n        </div>\r\n        <div>\r\n            <span class="md-body-2 description">{{vm.post.created | dateAgo}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="md-padding wide">\r\n        <md-divider class="md-block"></md-divider>\r\n    </div>\r\n    <div class="post-footer">\r\n        <md-button class="md-icon-button" ng-click="vm.like()">\r\n            <md-icon ng-class="{ \'danger\' : vm.post.userHasLiked }">favorite_border</md-icon>\r\n        </md-button>\r\n        <md-input-container class="light-container md-no-spacer" md-no-float>\r\n            <input class="md-input-light" type="text" placeholder="Add comment">\r\n        </md-input-container>\r\n        <md-button class="md-icon-button" ng-click="vm.share()">\r\n            <md-tooltip md-direction="left">Copy to clipboard</md-tooltip>\r\n            <md-icon>share</md-icon>\r\n        </md-button>\r\n    </div>\r\n</div>\r\n'),t.put("app/components/posts/post-details/post-details.template.html",'<div class="content" layout="row" layout-align="center start">\r\n    <div class="post-content" layout="row" layout-align="center start" ng-if="vm.post.attachments.length > 0">\r\n        <div class="post-content-buttons fixed" layout="row" layout-align="space-between center" ng-if="vm.post.attachments.length > 1">\r\n            <div>\r\n                <md-button class="md-icon-button md-raised" ng-click="vm.previous()" ng-if="vm.post.activeAttachment > 0">\r\n                    <md-icon class="post-icon">chevron_left</md-icon>\r\n                </md-button>\r\n            </div>\r\n            <div>\r\n                <md-button class="md-icon-button md-raised" ng-click="vm.next()" ng-if="vm.post.activeAttachment != vm.post.attachments.length - 1">\r\n                    <md-icon class="post-icon">chevron_right</md-icon>\r\n                </md-button>\r\n            </div>\r\n        </div>\r\n        <img ng-src="{{vm.post.attachments[vm.post.activeAttachment].uri}}" alt="attachment">\r\n    </div>\r\n</div>\r\n'),t.put("app/components/posts/user-posts/user-posts.template.html",'<div class="content" layout="column" layout-align="start center">\r\n    <div class="user-info" layout="row" layout-align="center start" ng-if="vm.loaded">\r\n        <img class="thumbnail-big" alternative-user-image ng-src="{{vm.user.pictureUri}}" alt="profile" md-whiteframe="3">\r\n        <div class="md-padding" layout="column" layout-align="stretch stretch" flex>\r\n            <div layout="row" layout-align="space-between center">\r\n                <span class="md-display-1">{{vm.user.username}}</span>\r\n                <a ui-sref="settings" ng-if="vm.currentUser.userId === vm.user.id">\r\n                    <md-tooltip md-direction="left">Go to settings</md-tooltip>\r\n                    <md-icon>settings</md-icon>\r\n                </a>\r\n                <a ng-if="vm.currentUser.userId === vm.user.id" ng-click="vm.logout()">\r\n                    <md-tooltip md-direction="left">Logout</md-tooltip>\r\n                    <md-icon>exit_to_app</md-icon>\r\n                </a>\r\n            </div>\r\n            <div class="md-padding top counters" layout="row" layout-align="start center" ng-if="vm.user.isActive">\r\n                <div flex="20">\r\n                    <span class="md-title">{{vm.user.posts}} </span>\r\n                    <span class="md-subhead">posts </span>\r\n                </div>\r\n                <div flex="20">\r\n                    <span class="md-title">{{vm.user.followers}} </span>\r\n                    <span class="md-subhead">followers </span>\r\n                </div>\r\n                <div flex="20">\r\n                    <span class="md-title">{{vm.user.following}} </span>\r\n                    <span class="md-subhead">following</span>\r\n                </div>\r\n            </div>\r\n            <div class="md-padding top" layout="row" layout-align="start center">\r\n                <span class="md-subhead" style="font-size: 17px;font-weight: bold;padding-right: 10px">{{vm.user.fullName}}</span>\r\n                <span class="md-subhead" style="font-size: 17px;font-weight: normal;padding-right: 10px">{{vm.user.bio}}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="container" layout="row" layout-align="center center" ng-if="vm.error" flex>\r\n        <error-box error="vm.error"></error-box>\r\n    </div>\r\n    <div class="container" layout="column" layout-align="start center" ng-if="!vm.error">\r\n        <div class="user-posts">\r\n            <div class="post-item" ng-repeat="post in vm.data.posts">\r\n                <div class="image-container" layout="column" layout-align="center center" md-whiteframe="3">\r\n                    <img class="thumbnail" ng-src="{{post.attachments[0].uri}}" alt="{{post.attachments[0].uri}}">\r\n                    <div class="after md-padding" layout="row" layout-align="space-between center">\r\n                        <div layout="row" layout-align="center center">\r\n                            <md-icon class="post-icon">favorite</md-icon>\r\n                            <span class="post-number">{{post.likesCount}}</span>\r\n                        </div>\r\n                        <div layout="row" layout-align="center center">\r\n                            <md-icon class="post-icon">mode_comment</md-icon>\r\n                            <span class="post-number">{{post.commentsCount}}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div ng-if="vm.data.hasMoreItems">\r\n            <md-button class="md-fab" ng-click="vm.getPosts()" ng-if="!vm.isLoading">\r\n                <md-tooltip md-direction="left">Load more posts</md-tooltip>\r\n                <md-icon>expand_more</md-icon>\r\n            </md-button>\r\n            <div class="md-circle-container" ng-if="vm.isLoading">\r\n                <md-progress-circular class="md-accent" md-mode="indeterminate" md-diameter="40"></md-progress-circular>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),t.put("app/components/layout/widgets/search/search.template.html",'<md-autocomplete placeholder="Search" md-no-cache="vm.noCache" md-selected-item="vm.selectedItem" md-selected-item-change="vm.selectedItemChange(vm.selectedItem)" md-search-text="vm.query" md-items="item in vm.search(vm.query)" md-item-text="item.username">\r\n    <md-item-template>\r\n        <div layout="row" layout-align="start center">\r\n            <img class="thumbnail-small" ng-src="{{item.pictureUri}}" alternative-user-image alt="profile image">\r\n            <span class="md-padding left">{{item.username}}</span>\r\n        </div>\r\n    </md-item-template>\r\n    <md-not-found>\r\n        <span>There are no matches</span>\r\n    </md-not-found>\r\n</md-autocomplete>\r\n'),t.put("app/components/layout/widgets/userbar/user-bar.template.html",'<div layout="row" layout-align="center center" ng-if="!vm.currentUser.isAuthenticated">\r\n    <md-button ui-sref="signup">Create Account</md-button>\r\n    <md-button class="md-primary md-raised" ui-sref="signin">Sign In</md-button>\r\n</div>\r\n<div layout="row" layout-align="center center" ng-if="vm.currentUser.isAuthenticated">\r\n    <img class="thumbnail-small" alternative-user-image ui-sref="userposts({username: vm.currentUser.username})" ng-src="{{vm.currentUser.pictureUri}}" alt="user">\r\n</div>\r\n')}]);
//# sourceMappingURL=../maps/scripts/app-1a5fcf0ec1.js.map
